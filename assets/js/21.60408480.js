(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{285:function(a,e,t){"use strict";t.r(e);var s=t(13),n=Object(s.a)({},(function(){var a=this,e=a._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"vue类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vue类"}},[a._v("#")]),a._v(" Vue类")]),a._v(" "),e("h2",{attrs:{id:"使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[a._v("#")]),a._v(" 使用")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('$vue = new Vue;\n//定义对象\n$vue->data("object","{}");\n//定义数组\n$vue->data("array","[]");\n\n$vue->data("string","");\n$vue->data("bool",true);\n//定义方法\n$vue->method("jump(url)","\n  window.open(url,\'_blank\');\n");\n$vue->method("link(url)","\n  window.location.href = url;\n");\n\n')])])]),e("p",[a._v("在页面底部加入")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<script type="text/javascript">\n  <?=$vue->run()?>\n<\/script>\n')])])]),e("h2",{attrs:{id:"定义data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定义data"}},[a._v("#")]),a._v(" 定义data")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('$vue->data("object","{}");\n$vue->data("array","[]");\n$vue->data("string","");\n$vue->data("bool",true);\n')])])]),e("h2",{attrs:{id:"定义方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#定义方法"}},[a._v("#")]),a._v(" 定义方法")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('$vue->method("jump(url)","\n  window.open(url,\'_blank\');\n");\n')])])]),e("h2",{attrs:{id:"mounted"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mounted"}},[a._v("#")]),a._v(" mounted")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$vue->mounted('key1',\"\n     const that = this\n     window.onresize = () => {\n      return (() => {\n        that.height = that.\\$refs.tableCot.offsetHeight;\n      })()\n    }\n\");\n")])])]),e("h2",{attrs:{id:"watch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[a._v("#")]),a._v(" watch")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('$vue->watch("where:"," \n      handler(newValue, oldValue) { \n        console.log(_this.where.per_page)\n        console.log(newValue.per_page)\n        if(_this.per_page != newValue.per_page){ \n            ajax(\'/plugins/table/api/admin/per_page.php\',{\n              key:\'".$per_page_key."\',\n              val: newValue.per_page\n            },function(res){}); \n            _this.per_page = newValue.per_page; \n        } \n      },\n      deep: true \n");\n')])])]),e("h2",{attrs:{id:"opt-参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#opt-参数"}},[a._v("#")]),a._v(" opt 参数")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("\n$vue = new Vue;\n$vue->opt = [\n  'is_editor' => true,\n  'is_page'  => true,\n  'is_reset' => true,\n  'is_add'   => true,\n  'is_edit'  => true,\n  'is_tree'  => true,\n];\n$editor_body = $vue->editor('body'); \nmisc(\"wangEditor,sortable\");\n")])])]),e("h2",{attrs:{id:"分页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分页"}},[a._v("#")]),a._v(" 分页")]),a._v(" "),e("p",[a._v("调用Vue")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$vue = new Vue; \nmisc('vue,element'); \n//不使用Vue类中的load();\n$vue->load_name = '';\n$vue->method('load()',\"\n  console.log(this.where); \n  ajax('/ajax.php',this.where,function(res){\n    _this.where.page = res.current_page;\n    _this.total  = res.total;\n    _this.lists  = res.data;\n  })\n\"); \n")])])]),e("p",[a._v("AJAX")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$all = db_pager($table,\"*\",$where);\nforeach($all['data'] as &$v){\n\n}\njson($all);\n")])])]),e("p",[a._v("分页HTML")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<div id=\"app\">  \n  <?= $vue->pager($load='load',$where = 'where',$arr = [])?> \n</div>\n<script type=\"text/javascript\"><?=$vue->run()?><\/script> \n")])])]),e("p",[a._v("一个表单可以同时支持多个富文本编辑器")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("$editor_title = $vue->editor('title'); \n$editor_body = $vue->editor('body'); \n")])])]),e("p",[a._v("在表单中输出")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<el-form-item label="内容" class="mt10">\n    <?php echo $editor_body;?>\n</el-form-item>\n')])])]),e("p",[a._v("以下可忽略")]),a._v(" "),e("h2",{attrs:{id:"自定义add-editor操作js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自定义add-editor操作js"}},[a._v("#")]),a._v(" 自定义add editor操作JS")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('$vue->add_method = [\n        "show()" => "js:{\n             this.is_show = true;\n             this.form = {\n              is_spec:\'-1\'\n             };\n             this.load_common();\n             ".$vue->loadEditorAdd()."\n        }"\n];\n$vue->edit_method = [\n"update(row)" => "js:{ \n  this.activeName = \'a\';\n    this.is_show = true;\n    let id = row.id;\n    ajax(\'/plugins/product/api/admin/product_show.php\',{id:id},function(res){\n      _this.form = res.data;  \n      if(_this.form.tag && _this.form.tag.length > 0){\n        _this.tag = _this.tags = _this.form.tag;  \n      }else{\n        _this.tag = _this.tags = [\'\']; \n      }\n      _this.main_spec = row.main_spec_name;\n      if(_this.form.spec && _this.form.spec.length > 0){\n        _this.spec = _this.form.spec;\n      }\n    });\n    ".$vue->loadEditorUpdate()."\n    \n}"\n];\n')])])]),e("h2",{attrs:{id:"dialog"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#dialog"}},[a._v("#")]),a._v(" dialog")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<el-dialog @opened="weditor()" :title="row.id?\'编辑商品\':\'添加商品\'" \n    :visible.sync="is_show"  \n    @closed="closed()" \n    :close-on-click-modal="false" \n    :show-close="true" \n    :close-on-press-escape="false" \n    width="1000px" top="20px"\n  >\n')])])]),e("p",[a._v("输出js")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("<script> \n  var E = window.wangEditor; \n  var editor;\n  Vue.component('vuedraggable', window.vuedraggable);\n<\/script>\n<script type=\"text/javascript\"> \n  <?= $js ?>\n<\/script>\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);