(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{290:function(e,a,t){"use strict";t.r(a);var s=t(13),n=Object(s.a)({},(function(){var e=this,a=e._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"vue类"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue类"}},[e._v("#")]),e._v(" Vue类")]),e._v(" "),a("h2",{attrs:{id:"使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[e._v("#")]),e._v(" 使用")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$vue = new Vue;\n//定义对象\n$vue->data("object","{}");\n//定义数组\n$vue->data("array","[]");\n\n$vue->data("string","");\n$vue->data("bool",true);\n//定义方法\n$vue->method("jump(url)","\n  window.open(url,\'_blank\');\n");\n$vue->method("link(url)","\n  window.location.href = url;\n");\n\n')])])]),a("p",[e._v("在页面底部加入")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<script type="text/javascript">\n  <?=$vue->run()?>\n<\/script>\n')])])]),a("h2",{attrs:{id:"定义data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义data"}},[e._v("#")]),e._v(" 定义data")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$vue->data("object","{}");\n$vue->data("array","[]");\n$vue->data("string","");\n$vue->data("bool",true);\n')])])]),a("h2",{attrs:{id:"定义方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#定义方法"}},[e._v("#")]),e._v(" 定义方法")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$vue->method("jump(url)","\n  window.open(url,\'_blank\');\n");\n')])])]),a("h2",{attrs:{id:"mounted"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mounted"}},[e._v("#")]),e._v(" mounted")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$vue->mounted('key1',\"\n     const that = this\n     window.onresize = () => {\n      return (() => {\n        that.height = that.\\$refs.tableCot.offsetHeight;\n      })()\n    }\n\");\n")])])]),a("h2",{attrs:{id:"watch"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#watch"}},[e._v("#")]),e._v(" watch")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$vue->watch("where:"," \n      handler(newValue, oldValue) { \n        console.log(_this.where.per_page)\n        console.log(newValue.per_page)\n        if(_this.per_page != newValue.per_page){ \n            ajax(\'/plugins/table/api/admin/per_page.php\',{\n              key:\'".$per_page_key."\',\n              val: newValue.per_page\n            },function(res){}); \n            _this.per_page = newValue.per_page; \n        } \n      },\n      deep: true \n");\n')])])]),a("h2",{attrs:{id:"分页、添加、编辑"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分页、添加、编辑"}},[e._v("#")]),e._v(" 分页、添加、编辑")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("\n$vue = new Vue;\n$vue->opt = [\n  'is_editor' => true,\n  'is_page'  => true,\n  'is_reset' => true,\n  'is_add'   => true,\n  'is_edit'  => true,\n  'is_tree'  => true,\n];\n$editor_body = $vue->editor('body'); \nmisc(\"wangEditor,sortable\");\n")])])]),a("p",[e._v("一个表单可以同时支持多个富文本编辑器")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("$editor_title = $vue->editor('title'); \n$editor_body = $vue->editor('body'); \n")])])]),a("p",[e._v("在表单中输出")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<el-form-item label="内容" class="mt10">\n    <?php echo $editor_body;?>\n</el-form-item>\n')])])]),a("p",[e._v("以下可忽略")]),e._v(" "),a("h2",{attrs:{id:"自定义add-editor操作js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义add-editor操作js"}},[e._v("#")]),e._v(" 自定义add editor操作JS")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('$vue->add_method = [\n        "show()" => "js:{\n             this.is_show = true;\n             this.form = {\n              is_spec:\'-1\'\n             };\n             this.load_common();\n             ".$vue->loadEditorAdd()."\n        }"\n];\n$vue->edit_method = [\n"update(row)" => "js:{ \n  this.activeName = \'a\';\n    this.is_show = true;\n    let id = row.id;\n    ajax(\'/plugins/product/api/admin/product_show.php\',{id:id},function(res){\n      _this.form = res.data;  \n      if(_this.form.tag && _this.form.tag.length > 0){\n        _this.tag = _this.tags = _this.form.tag;  \n      }else{\n        _this.tag = _this.tags = [\'\']; \n      }\n      _this.main_spec = row.main_spec_name;\n      if(_this.form.spec && _this.form.spec.length > 0){\n        _this.spec = _this.form.spec;\n      }\n    });\n    ".$vue->loadEditorUpdate()."\n    \n}"\n];\n')])])]),a("h2",{attrs:{id:"dialog"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dialog"}},[e._v("#")]),e._v(" dialog")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('<el-dialog @opened="weditor()" :title="row.id?\'编辑商品\':\'添加商品\'" \n    :visible.sync="is_show"  \n    @closed="closed()" \n    :close-on-click-modal="false" \n    :show-close="true" \n    :close-on-press-escape="false" \n    width="1000px" top="20px"\n  >\n')])])]),a("p",[e._v("输出js")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("<script> \n  var E = window.wangEditor; \n  var editor;\n  Vue.component('vuedraggable', window.vuedraggable);\n<\/script>\n<script type=\"text/javascript\"> \n  <?= $js ?>\n<\/script>\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);