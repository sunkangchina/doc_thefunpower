(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{286:function(e,t,a){"use strict";a.r(t);var n=a(13),r=Object(n.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[e._v("#")]),e._v(" 路由")]),e._v(" "),t("h2",{attrs:{id:"ngnix重写"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ngnix重写"}},[e._v("#")]),e._v(" Ngnix重写")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("location ~.*\\.(sql|pem) {\n  deny all;\n}  \nlocation / {\n    if (!-e $request_filename){\n        rewrite ^(.*)$ /index.php last;\n    }  \n}\n")])])]),t("h2",{attrs:{id:"请求"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#请求"}},[e._v("#")]),e._v(" 请求")]),e._v(" "),t("p",[t("code",[e._v("boot/router.php")])]),e._v(" "),t("h3",{attrs:{id:"get-post-put-delete-options"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#get-post-put-delete-options"}},[e._v("#")]),e._v(" get|post|put|delete|options")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$router->get('/about', function() {\n    echo 'About Page Contents';\n}); \n\n$router->get('/hello/(\\w+)', function($name) {\n    echo 'Hello ' . htmlentities($name);\n});\n\n$router->get('/movies/(\\d+)/photos/(\\d+)', function($movieId, $photoId) {\n    echo 'Movie #' . $movieId . ', photo #' . $photoId;\n});\n\n$router->get(\n    '/blog(/\\d+)?(/\\d+)?(/\\d+)?(/[a-z0-9_-]+)?',\n    function($year = null, $month = null, $day = null, $slug = null) {\n        if (!$year) { echo 'Blog overview'; return; }\n        if (!$month) { echo 'Blog year overview'; return; }\n        if (!$day) { echo 'Blog month overview'; return; }\n        if (!$slug) { echo 'Blog day overview'; return; }\n        echo 'Blogpost ' . htmlentities($slug) . ' detail';\n    }\n);\n\n$router->get('/blog(/\\d{4}(/\\d{2}(/\\d{2}(/[a-z0-9_-]+)?)?)?)?', function($year = null, $month = null, $day = null, $slug = null) {\n    // ...\n});\n")])])]),t("p",[e._v("正则说明")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("\\d+  One or more digits (0-9)\n\\w+   One or more word characters (a-z 0-9 _)\n[a-z0-9_-]+  One or more word characters (a-z 0-9 _) and the dash (-)\n.*   Any character (including /), zero or more\n[^/]+   Any character but /, one or more\n")])])]),t("h3",{attrs:{id:"namespace"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#namespace"}},[e._v("#")]),e._v(" namespace")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$router->setNamespace('\\App\\Controllers');\n$router->get('/users/(\\d+)', 'User@showProfile');\n$router->get('/cars/(\\d+)', 'Car@showProfile');\n")])])]),t("h3",{attrs:{id:"_404"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_404"}},[e._v("#")]),e._v(" 404")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$router->set404('\\App\\Controllers\\Error@notFound');\n")])])]),t("h3",{attrs:{id:"middlewares"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#middlewares"}},[e._v("#")]),e._v(" Middlewares")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("$router->before('GET|POST', '/admin/.*', function() {\n    if (!isset($_SESSION['user'])) {\n        header('location: /auth/login');\n        exit();\n    }\n});\n\n$router->before('GET', '/.*', function() {\n    // ... this will always be executed\n});\n\n")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);